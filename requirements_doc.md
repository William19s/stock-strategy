# 股票策略分析工具需求文档

## 一、项目背景
开发一个多功能的股票交易策略分析工具，支持单股分析、股票筛选和组合策略，帮助投资者在 A 股市场进行交易决策。通过多重技术指标和基本面条件的组合，降低交易风险，提高收益率。

## 二、功能需求

1. 基础功能
   - 支持中国 A 股市场所有板块（主板/科创板/创业板）
   - 简化的股票代码输入（如：600000，自动判断市场）
   - 历史数据回测（2020年至今）
   - 多维度股票筛选
   - 组合策略分析
   - 实时数据分析（待开发）

2. 技术指标系统
   - 双均线策略（MA，可调整周期）
   - MACD（12,26,9）
   - RSI（14日）
   - KDJ（9,3,3）
   - 成交量分析（5日均量比较）

3. 交易条件设置
   - 市值筛选范围：80亿-500亿
   - 最低股价：5元
   - 成交量要求：大于5日均量
   - 可自定义参数（待开发）

4. 用户界面要求
   - 移动端优先设计
   - 响应式布局
   - 直观的数据可视化
   - 清晰的错误提示
   - 简洁的操作流程
   - 分页式功能导航
   - 策略参数动态调整
   - 多维度数据展示

5. 股票筛选功能
   基本面条件：
   - 市值范围筛选
   - 市盈率范围
   - 流通股本比例
   - 日均成交量

   技术面条件：
   - 涨跌幅区间
   - 均线位置关系
   - 量比范围
   - MACD形态

   自定义条件：
   - 多策略组合筛选
   - 条件权重设置
   - 参数自定义

6. 组合策略功能
   策略配置：
   - 多策略权重分配
   - 最大持股数限制
   - 调仓周期设置
   
   风险控制：
   - 单股持仓比例
   - 板块分散度
   - 止损止盈设置

7. 分析功能需求
   - 策略回测能力
   - 收益率计算
   - 交易信号生成
   - 性能指标统计
     * 总交易次数
     * 胜率统计
     * 最大回撤
     * 风险收益比（待开发）

## 三、技术需求

1. 开发环境
   - Python 3.9+
   - 虚拟环境管理
   - Git 版本控制

2. 核心依赖
   - streamlit：Web界面框架
   - pandas：数据处理
   - matplotlib：数据可视化
   - baostock：A股数据源

3. 部署需求
   - Streamlit Cloud 云端部署
   - 自动化部署流程
   - 错误监控和日志（待开发）

## 四、性能需求

1. 响应时间
   - 数据加载：<5秒
   - 策略计算：<3秒
   - 图表渲染：<2秒

2. 并发处理
   - 支持多用户同时访问
   - 资源占用优化

## 五、后续开发计划

1. 功能扩展
   - 添加更多技术指标
   - 支持自定义策略
   - 板块轮动分析
   - 行业热度跟踪
   - 资金流向分析
   - 实时数据更新
   - 股票筛选器

2. 性能优化
   - 数据缓存机制
   - 计算效率提升
   - 移动端体验优化
   - 批量数据处理
   - 并行计算支持

3. 用户体验
   - 添加策略说明文档
   - 提供参数优化建议
   - 增加风险提示
   - 策略回测报告
   - 操作引导教程
   - 实时市场提醒

## 六、项目限制

1. 数据限制
   - 仅支持 A 股市场
   - 历史数据从 2020 年开始
   - 依赖第三方数据源

2. 功能限制
   - 不支持实时交易
   - 不考虑交易成本
   - 不包含期货/期权

3. 使用限制
   - 仅供参考，不作投资建议
   - 需要基本的金融知识
   - 需要理解技术指标 